"use strict";

var helpers = require("../../../node_modules/@parcel/transformer-react-refresh-wrap/lib/helpers/helpers.js");

var prevRefreshReg = window.$RefreshReg$;
var prevRefreshSig = window.$RefreshSig$;
helpers.prelude(module);

try {
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.default = void 0;

  var _react = _interopRequireDefault(require("react"));

  var _DataFactory = require("./DataFactory");

  var _reactChartjs = _interopRequireDefault(require("react-chartjs-2"));

  var _variables = require("./variables");

  var _reactRedux = require("react-redux");

  var _jsxFileName = "/home/manu/Documents/coderafiki/study-tool/src/components/data-display/lineGraph.tsx";

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  const Chart = ({
    dispatch,
    state
  }) => {
    const {
      pomodoros
    } = state.pomodorosReducer;
    let dataFactory = new _DataFactory.DataFactory(pomodoros, 30); // console.log(dataFactory.)
    //alldata

    let keys = dataFactory.makeHistoryKeysArr();
    let days = dataFactory.makeDaysArr();
    let dailyData = keys.map(key => dataFactory.dailyData(key)); //averages 

    let averageData = keys.map(key => dataFactory.average(key));
    let chartData = (0, _variables.chart1data)(days, dailyData, averageData);
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "chart-wrapper is-flex p-2 m-2",
      __self: void 0,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 27,
        columnNumber: 5
      }
    }, /*#__PURE__*/_react.default.createElement(_reactChartjs.default, {
      type: "line",
      label: "Productivity",
      height: 300,
      width: 400,
      data: chartData.dailyData,
      options: chartData.options,
      __self: void 0,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 29,
        columnNumber: 5
      }
    }));
  };

  _c = Chart;

  var _default = (0, _reactRedux.connect)((state, dispatch) => ({
    state,
    dispatch
  }))(Chart);

  exports.default = _default;

  var _c;

  $RefreshReg$(_c, "Chart");
  helpers.postlude(module);
} finally {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}